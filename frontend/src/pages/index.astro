---
import Layout from "../layouts/Layout.astro";
---
<Layout title="Build Watch | Santa Cruz LGU" description="Santa Cruz LGU Project Monitoring and Evaluation System - Transparent Governance and Real-Time Project Tracking">
  <div class="min-h-screen flex flex-col bg-[#EB3C3C] font-[Montserrat]">
    {/* Enhanced Logo Section - Top Middle */}
    <div class="relative z-30 flex justify-center items-center py-6">
      <div class="flex flex-col items-center group cursor-pointer">
        <div class="relative">
          <img src="/top-logo.png" alt="Build Watch Logo" class="w-48 h-48 object-contain mb-1 transition-all duration-500 group-hover:scale-110 group-hover:rotate-3 drop-shadow-lg" draggable="false" />
          <div class="absolute inset-0 bg-white/20 rounded-full blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>
        <span class="text-white/80 text-lg font-medium tracking-wide mt-1">Santa Cruz LGU</span>
      </div>
    </div>

    {/* Hero Section with Carousel */}
    <main class="flex-1 flex flex-col items-center justify-center relative overflow-hidden">
      <div id="carousel-bg" class="absolute inset-0 w-full h-full transition-all duration-700 ease-in-out z-0"></div>
      <div class="relative z-10 flex flex-col items-center justify-center w-full max-w-4xl px-4 py-16 fade-in" id="carousel-content">
        <h1 id="carousel-title" class="text-5xl md:text-6xl font-extrabold text-white drop-shadow-lg leading-tight mb-6 text-center"></h1>
        <p id="carousel-desc" class="text-lg md:text-xl font-medium text-white/90 mb-10 max-w-2xl text-center"></p>
        <a href="/home" id="lets-start-btn"
           class="group px-8 py-4 bg-white text-[#EB3C3C] font-bold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 hover:bg-gray-50 mb-8 relative overflow-hidden">
          <span class="relative z-10">LET'S START</span>
          <div class="absolute inset-0 bg-gradient-to-r from-[#EB3C3C] to-[#ED6F6F] opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          <span class="absolute inset-0 bg-gradient-to-r from-[#EB3C3C] to-[#ED6F6F] opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-white font-bold text-lg flex items-center justify-center">LET'S START</span>
        </a>
      </div>
    </main>

    {/* Enhanced Bottom Navigation */}
    <div class="relative z-20 px-6 py-6">
      <div class="bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 px-8 py-6 flex items-center justify-between gap-6 relative">
        {/* Enhanced Carousel Controls */}
        <div class="flex items-center gap-6">
          <button id="carousel-prev" class="group w-12 h-12 flex items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm shadow-lg hover:bg-white/30 hover:scale-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white/50 border border-white/30">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="white" class="w-7 h-7 group-hover:scale-110 transition-transform duration-300">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
            </svg>
          </button>
          
          <div class="flex items-center gap-3" id="carousel-indicators"></div>
          
          <button id="carousel-next" class="group w-12 h-12 flex items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm shadow-lg hover:bg-white/30 hover:scale-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white/50 border border-white/30">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="white" class="w-7 h-7 group-hover:scale-110 transition-transform duration-300">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
            </svg>
          </button>
        </div>

        {/* Enhanced Slogan - Absolutely Centered */}
        <div class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none">
          <div class="text-center max-w-md">
            <span class="text-white text-lg md:text-xl font-bold drop-shadow-lg block">
              Built to <span class="text-yellow-300 font-black">Monitor</span>. 
              Designed for <span class="text-yellow-300 font-black">Trust</span>.
            </span>
            <div class="mt-2 text-white/80 text-sm font-medium">
              Transparent Governance • Real-Time Tracking • Community Engagement
            </div>
          </div>
        </div>

        {/* Enhanced Let's Start Button */}
        <a href="/home" class="group px-8 py-4 font-black text-lg rounded-2xl transition-all duration-500 flex items-center justify-center
                    bg-white/90 backdrop-blur-sm text-[#EB3C3C] border-2 border-white/50 shadow-xl hover:shadow-2xl hover:scale-105 hover:bg-gradient-to-r hover:from-[#EB3C3C] hover:to-[#ED6F6F] hover:text-white focus:outline-none focus:ring-2 focus:ring-white/50 relative overflow-hidden z-10" id="lets-start-btn-sticky">
          <span class="relative z-10">LET'S START</span>
          <div class="absolute inset-0 bg-gradient-to-r from-[#EB3C3C] to-[#ED6F6F] opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <span class="absolute inset-0 bg-gradient-to-r from-[#EB3C3C] to-[#ED6F6F] opacity-0 group-hover:opacity-100 transition-opacity duration-500 text-white font-black text-lg flex items-center justify-center">LET'S START</span>
        </a>
      </div>
    </div>
  </div>
</Layout>

  <script is:inline>
    // Slide data
    const slides = [
      {
        title: 'Building Trust Through Transparent Governance',
        desc: 'A digital platform by the LGU of Santa Cruz, Laguna that brings public infrastructure and community projects closer to the people—through open monitoring and real-time information.',
        bg: '/slide-1.png',
      },
      {
        title: 'See the Progress. Know the Process.',
        desc: 'Track LGU-approved projects with ease—from timelines and budgets to completion status—anytime, anywhere. Empowering citizens through transparency.',
        bg: '/slide-2.png',
      },
      {
        title: 'Digitalized Monitoring for a Smarter Santa Cruz',
        desc: 'Modernizing how public projects are managed, viewed, and validated—by making information accessible to citizens, LGU teams, and stakeholders in real time.',
        bg: '/slide-3.png',
      },
      {
        title: 'Your Projects. Your Town. Your Right to Know.',
        desc: 'The Project Monitoring System of Santa Cruz, Laguna is a tool for accountability—letting every citizen witness the progress and integrity of their local government projects.',
        bg: '/slide-4.png',
      },
      {
        title: 'From Manual Logs to Digitalized Process of Monitoring',
        desc: 'The shift from paper-based reports to a real-time digital system marks a new era of governance for Santa Cruz—making LGU projects transparent, timely, and trustworthy.',
        bg: '/slide-5.png',
      },
    ];
    let currentSlide = 0;
    const carouselBg = document.getElementById('carousel-bg');
    const carouselTitle = document.getElementById('carousel-title');
    const carouselDesc = document.getElementById('carousel-desc');
    const indicators = document.getElementById('carousel-indicators');
    const content = document.getElementById('carousel-content');

    function renderSlide(idx) {
      // Enhanced animation out
      content.classList.remove('fade-in');
      content.classList.add('fade-out');
      setTimeout(() => {
        // Update content
        carouselTitle.textContent = slides[idx].title;
        carouselDesc.textContent = slides[idx].desc;
        carouselBg.style.background = `linear-gradient(180deg, rgba(235,60,60,0.92) 0%, rgba(235,60,60,0.7) 40%, rgba(255,255,255,0.1) 100%), url('${slides[idx].bg}') center/cover no-repeat`;
        // Enhanced animation in
        content.classList.remove('fade-out');
        content.classList.add('fade-in');
        // Enhanced indicators
        indicators.innerHTML = '';
        for (let i = 0; i < slides.length; i++) {
          const dot = document.createElement('span');
          dot.className = `w-5 h-5 rounded-full inline-block transition-all duration-500 cursor-pointer ${
            i === idx 
              ? 'bg-white scale-125 shadow-lg shadow-white/50' 
              : 'bg-white/40 hover:bg-white/60 hover:scale-110'
          }`;
          dot.onclick = () => { 
            currentSlide = i; 
            renderSlide(i); 
          };
          indicators.appendChild(dot);
        }
      }, 300);
    }
    document.getElementById('carousel-prev').onclick = () => {
      currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      renderSlide(currentSlide);
    };
    document.getElementById('carousel-next').onclick = () => {
      currentSlide = (currentSlide + 1) % slides.length;
      renderSlide(currentSlide);
    };

    // Auto-advance carousel
    let autoAdvanceInterval = setInterval(() => {
      currentSlide = (currentSlide + 1) % slides.length;
      renderSlide(currentSlide);
    }, 8000);

    // Pause auto-advance on hover
    const carouselContainer = document.querySelector('main');
    carouselContainer.addEventListener('mouseenter', () => {
      clearInterval(autoAdvanceInterval);
    });
    
    carouselContainer.addEventListener('mouseleave', () => {
      autoAdvanceInterval = setInterval(() => {
        currentSlide = (currentSlide + 1) % slides.length;
        renderSlide(currentSlide);
      }, 8000);
    });

    // Initial render
    renderSlide(currentSlide);

    // Enhanced transition to home
    function addHomeTransition(btnId) {
      const btn = document.getElementById(btnId);
      if (!btn) return;
      btn.onclick = (e) => {
        e.preventDefault();
        const main = document.querySelector('main');
        const logo = document.querySelector('.relative.z-30');
        const bottomNav = document.querySelector('.relative.z-20');
        
        if (main && logo && bottomNav) {
          // Enhanced exit animation
          main.classList.remove('fade-in');
          main.classList.add('fade-out');
          logo.style.transform = 'translateY(-100px)';
          logo.style.opacity = '0';
          bottomNav.style.transform = 'translateY(100px)';
          bottomNav.style.opacity = '0';
          
          setTimeout(() => {
            window.location.href = '/home';
          }, 800);
        } else {
          window.location.href = '/home';
        }
      };
    }
    addHomeTransition('lets-start-btn');
    addHomeTransition('lets-start-btn-sticky');

    // Add keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        renderSlide(currentSlide);
      } else if (e.key === 'ArrowRight') {
        currentSlide = (currentSlide + 1) % slides.length;
        renderSlide(currentSlide);
      }
    });
  </script>

  <style>
    .fade-in { 
      animation: fadeIn 1s cubic-bezier(0.4, 0, 0.2, 1); 
    }
    .fade-out { 
      animation: fadeOut 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards; 
    }
    
    @keyframes fadeIn { 
      from { 
        opacity: 0; 
        transform: translateY(40px) scale(0.95);
      } 
      to { 
        opacity: 1; 
        transform: translateY(0) scale(1);
      } 
    }
    
    @keyframes fadeOut { 
      from { 
        opacity: 1; 
        transform: translateY(0) scale(1);
      } 
      to { 
        opacity: 0; 
        transform: translateY(-40px) scale(0.95);
      } 
    }

    /* Enhanced scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    /* Enhanced focus styles */
    *:focus {
      outline: none;
    }
    
    *:focus-visible {
      outline: 2px solid rgba(255, 255, 255, 0.8);
      outline-offset: 2px;
    }
  </style> 